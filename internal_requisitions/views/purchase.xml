<odoo>

    <record model="ir.ui.view" id="order_purchase_requisition">
        <field name="name">order.purchase</field>
        <field name="model">purchase.order</field>
        <field name="inherit_id" ref="purchase.purchase_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="attributes">
                <attribute name="string">Proveedor</attribute>
            </xpath>
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="requisicion_interna_purchase"/>
                <field name="requisicion_interna_production" attrs="{'invisible': ['|',('requisicion_interna_purchase', '=', False),('requisicion_interna_inventory', '=', True)]}"/>
                <field name="requisicion_interna_inventory" attrs="{'invisible': ['|',('requisicion_interna_purchase', '=', False),('requisicion_interna_production', '=', True)]}"/>
                <field name="mrp_production_ids" widget="many2many_tags" attrs="{'invisible': ['|',('requisicion_interna_production', '=', False),('show_internal_purchase', '=', True)]}"/>
                <field name="stock_picking_ids" widget="many2many_tags" attrs="{'invisible': ['|',('requisicion_interna_inventory', '=', False),('show_internal_purchase', '=', True)]}"/>
                <field name="show_internal_purchase" attrs="{'invisible': [('stock_picking_ids', '=', []),('mrp_production_ids', '=', [])]}"/>
            </xpath>
            <xpath expr="//button[@name='action_rfq_send']" position="before">
                <button name="button_continue" states="borrador compra" string="Continuar" type="object" class="oe_highlight"/>
                <button name="button_quote" states="Borrador Requisición" string="Cotizar" type="object" class="oe_highlight"/>
            </xpath>
            <xpath expr="//button[@name='button_confirm']" position="after">
                <button name="button_draft" attrs="{'invisible': [('state','not in',('Borrador Requisición','draft'))]}" string="Volver a Borrador" type="object"/>
            </xpath>
            
            
            <notebook position="inside">
                <page string="Tipo de Requisición">
                    <group>
                        <field name="requisicion_interna_purchase"/>
                        <!--<field name="session_ids"/>-->
                    </group>
                </page>
            </notebook>
        </field>
    </record>

    <record model="ir.actions.act_window" id="purchase_list_action">
        <field name="name">Requisiciones de Compra</field>
        <field name="res_model">purchase.order</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="requisitions_purchase" name="Requisiciones de Compra"
        parent="requisition_menu"
        action="purchase_list_action"/>
    

</odoo>